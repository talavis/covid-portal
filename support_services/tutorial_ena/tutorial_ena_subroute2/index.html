<!DOCTYPE html>
<html lang="en"><head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  
  <title>Tutorial for SARS-CoV-2 genome data submission to ENA | The Swedish Pathogens Portal</title>
  <meta name="description" content=''>
  
  <meta http-equiv="content-language" content="en">

  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">

  <meta property="og:title" content="Tutorial for SARS-CoV-2 genome data submission to ENA" />
<meta property="og:description" content="When to use this route Route 2 is recommended for those with advanced knowledge of using command line, and for those doing bulk submissions. It is the most suitable route for high-throughput, frequent submissions and automated systems. For this route, the metadata is typically provided to ENA in XML documents. This is true in all cases except for sequence assemblies, where the metadata is instead provided in JSON format. In either case, the metadata are submitted using cURL." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.pathogens.se/support_services/tutorial_ena/tutorial_ena_subroute2/" /><meta property="og:image" content="https://www.pathogens.se/img/swe_pathogens_social_media.png"/><meta property="article:section" content="support_services" />

<meta property="og:site_name" content="The Swedish Pathogens Portal" />


  <meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://www.pathogens.se/img/swe_pathogens_social_media.png"/>

<meta name="twitter:title" content="Tutorial for SARS-CoV-2 genome data submission to ENA"/>
<meta name="twitter:description" content="When to use this route Route 2 is recommended for those with advanced knowledge of using command line, and for those doing bulk submissions. It is the most suitable route for high-throughput, frequent submissions and automated systems. For this route, the metadata is typically provided to ENA in XML documents. This is true in all cases except for sequence assemblies, where the metadata is instead provided in JSON format. In either case, the metadata are submitted using cURL."/>


  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  
  <link rel="stylesheet" href="/css/styles.css">

  
  <script src="https://code.jquery.com/jquery-3.6.3.js" integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=" crossorigin="anonymous"></script>

  

  

  

  

  

  
  


  

</head>
<body>
        <a class="visually-hidden-focusable" href="#content">Skip to main content</a>
<nav class="navbar navbar-expand-lg navbar-light bg-white pb-0">
  <div class="container">
    
    <div class="d-flex navbar-brand">
      <a href="/">
        <img class="mt-1 me-lg-3" src="/img/site_logo/swe_pathogens_logo.svg" alt="Pathogens Portal Sweden">
      </a>
      <a href="https://www.scilifelab.se">
        <img class="px-2 py-lg-1" src="/img/site_logo/SciLifeLab_logo.svg" alt="SciLifeLab Home">
      </a>
    </div>
    
    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapseBottom"
      aria-controls="navbarCollapseBottom" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    
    <div class="d-flex align-items-end flex-column collapse navbar-collapse">
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav ml-auto navbar-top">
          
          <li class="nav-item"><a class="nav-link " href="/about/">About</a>
          </li>
          
          <li class="nav-item"><a class="nav-link " href="/contact/">Contact</a>
          </li>
          
          
          <li class="nav-item"><a class="nav-link" href="/support_services/tutorial_ena/tutorial_ena_subroute2/"><span
                lang="en">en <img src="/img/flag-en.svg"
                  alt=""></span></a></li>
          <li class="nav-item"><a class="nav-link" href="/sv/"><span lang="sv">sv
                <img src="/img/flag-sv.svg" alt=""></span></a></li>
          
        </ul>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          
          <li class="nav-item"><a class="nav-link highlight" href="/contribute/"><i class="bi bi-plus-circle-fill me-2"></i>Contribute</a>
          </li>
          
          <li class="nav-item"><a class="nav-link highlight" href="/share-data/"><i class="bi bi-server me-2"></i>Share data</a>
          </li>
          
          <li class="nav-item"><a class="nav-link highlight" href="/support/"><i class="bi bi-people-fill me-2"></i>Get support</a>
          </li>
          
        </ul>
      </div>
    </div>
  </div>
</nav>



<nav class="navbar navbar-expand-lg navbar-light pt-0">
  <div class="container">
    <div class="collapse navbar-collapse" id="navbarCollapseBottom">
      
      
      <ul class="d-lg-none navbar-nav nav-languages list-group-horizontal justify-content-end">
        
        <li class="nav-item"><a class="nav-link " href="/about/">About</a>
        </li>
        
        <li class="nav-item"><a class="nav-link " href="/contact/">Contact</a>
        </li>
        
        
        <li class="nav-item"><a class="nav-link" href="/support_services/tutorial_ena/tutorial_ena_subroute2/"><span
              lang="en">en <img src="/img/flag-en.svg"
                alt=""></span></a></li>
        <li class="nav-item"><a class="nav-link" href="/sv/"><span lang="sv">sv
              <img src="/img/flag-sv.svg" alt=""></span></a></li>
        
      </ul>
      <ul class="d-lg-none navbar-nav">
        
        <li class="nav-item align-text-center"><a class="nav-link highlight" href="/contribute/"><i class="bi bi-plus-circle-fill me-2"></i>Contribute</a>
        </li>
        
        <li class="nav-item align-text-center"><a class="nav-link highlight" href="/share-data/"><i class="bi bi-server me-2"></i>Share data</a>
        </li>
        
        <li class="nav-item align-text-center"><a class="nav-link highlight" href="/support/"><i class="bi bi-people-fill me-2"></i>Get support</a>
        </li>
        
      </ul>
      <hr class="d-lg-none">
      
      
      
      <div class="d-lg-none">
        
        <div class="main_menu_item pb-1">
          <a href="#dataAndHighlight" data-bs-toggle="collapse"  role="button"
             aria-expanded="false" aria-controls="dataAndHighlight">
             <i class="bi bi-table"></i> Available Data & Highlights <i class="bi bi-caret-down-fill small"></i>
           </a>
            <div class="collapse main_menu_item_sub ps-4" id="dataAndHighlight">
              <a href="#availableData" data-bs-toggle="collapse"  role="button"
                 aria-expanded="false" aria-controls="availableData">
                 Available Datasets <i class="bi bi-caret-down-fill small"></i>
              </a>
              <div class="collapse main_menu_item_sub ps-4" id="availableData">
                
                <a class="d-block m-0" href="/datasets/all/">All data types</a>
                
                <a class="d-block m-0" href="/datasets/biochemistry/">Biochemistry data</a>
                
                <a class="d-block m-0" href="/datasets/drug-discovery/">Drug discovery data</a>
                
                <a class="d-block m-0" href="/datasets/genomics-transcriptomics/">Genomics &amp; transcriptomics data</a>
                
                <a class="d-block m-0" href="/datasets/health/">Health data</a>
                
                <a class="d-block m-0" href="/datasets/imaging/">Imaging data</a>
                
                <a class="d-block m-0" href="/datasets/other/">Other data</a>
                
                <a class="d-block m-0" href="/datasets/protein/">Protein data</a>
                
                <a class="d-block m-0" href="/datasets/public-health/">Public health data</a>
                
                <a class="d-block m-0" href="/datasets/serology/">Serology data</a>
                
                <a class="d-block m-0" href="/datasets/social-science-humanities/">Social science and humanities data</a>
                
              </div>
              <a class="d-block" href="/highlights/">Data Highlights</a>
            </div>
        </div>
        
        <div class="main_menu_item pb-1">
          <a href="#dataDashboards" data-bs-toggle="collapse"  role="button"
             aria-expanded="false" aria-controls="dataDashboards">
             <i class="bi bi-graph-up"></i> Data Dashboards <i class="bi bi-caret-down-fill small"></i>
          </a>
          <div class="collapse main_menu_item_sub ps-4" id="dataDashboards">
            
            <a class="d-block" href="/dashboards/serology-statistics/">Antibody tests for SARS-CoV-2 at SciLifeLab</a>
            
            <a class="d-block" href="/dashboards/symptom_study_sweden/">COVID Symptom Study Sweden (Partner)</a>
            
            <a class="d-block" href="/dashboards/covid_publications/">COVID-19 publication overview</a>
            
            <a class="d-block" href="/dashboards/crush_covid/">CRUSH Covid Uppsala (Partner)</a>
            
            <a class="d-block" href="/dashboards/npc-statistics/">National Pandemic Centre (Historic)</a>
            
            <a class="d-block" href="/dashboards/post_covid/">Post COVID-19 condition</a>
            
            <a class="d-block" href="/dashboards/recovac/">Register-based vaccination (RECOVAC)</a>
            
            <a class="d-block" href="/dashboards/variants_region_uppsala/">SARS-CoV-2 whole genome sequencing (Region Uppsala)</a>
            
            <a class="d-block" href="/dashboards/vaccines/">Vaccine administration: COVID-19</a>
            
            <a class="d-block" href="/dashboards/wastewater/">Wastewater-based epidemiology</a>
            
          </div>
        </div>
        
        <div class="main_menu_item pb-1">
          <a href="#researchAndFunding" data-bs-toggle="collapse"  role="button"
             aria-expanded="false" aria-controls="researchAndFunding">
            <i class="bi bi-inboxes-fill"></i> Research & Funding <i class="bi bi-caret-down-fill small"></i>
          </a>
          <div class="collapse main_menu_item_sub ps-4" id="researchAndFunding">
            <a class="d-block" href="/resources/">Pandemic Preparedness</a>
            
            <a class="d-block" href="/research_projects/">Ongoing research projects</a>
            
            <a class="d-block" href="/register-based-research/">Register-based research</a>
            
            <a class="d-block" href="/funding/">Funding opportunities</a>
            
            <a class="d-block" href="/publications/">Swedish COVID-19 Publications</a>
            
          </div>
        </div>
        
        <div class="main_menu_item pb-1">
          <i class="bi bi-clipboard-data"></i> <a href="/pathogens/">Emerging Pathogens</a>
        </div>
        
        <div class="main_menu_item pb-1">
          <i class="bi bi-journal-text"></i> <a href="/data-management/">Research Data Management</a>
        </div>
        
        <div class="main_menu_item pb-1">
          <i class="bi bi-collection"></i> <a href="/biobanks/">Sample Collection Database</a>
        </div>
        
        <div class="main_menu_item pb-1">
          <a href="#topics" data-bs-toggle="collapse"  role="button"
             aria-expanded="false" aria-controls="topics">
            <i class="bi bi-card-list"></i> Topics <i class="bi bi-caret-down-fill small"></i>
          </a>
          <div class="collapse main_menu_item_sub ps-4" id="topics">
            
            <a class="d-block" href="/topics/antibiotic-resistance/">Antibiotic resistance</a>
            
            <a class="d-block" href="/topics/covid-19/">COVID-19</a>
            
            <a class="d-block" href="/topics/enteric-viruses/">Enteric viruses</a>
            
            <a class="d-block" href="/topics/infectious-diseases/">Infectious diseases</a>
            
            <a class="d-block" href="/topics/influenza/">Influenza</a>
            
            <a class="d-block" href="/topics/mpox/">Mpox</a>
            
          </div>
        </div>
        
        <div class="main_menu_item pb-1">
          <i class="bi bi-pencil-square"></i> <a href="/editorials/">Editorials</a>
        </div>
        
        <div class="main_menu_item">
          <i class="bi bi-calendar-event"></i> <a href="/events/">Events & Training</a>
        </div>
      </div>
      <hr class="d-lg-none">
      
      
      
      
      
    </div>
  </div>
</nav>




<div class="container mb-1 d-none d-lg-block">
  <div class="row main_menu">
    <div class="col-lg">
      <div class="row">
        <div class="col main_menu_item">
          <i class="bi bi-table"></i>
          <a class="dropdown-toggle" href="#" id="navbarDropdownMenuLink"
             data-bs-auto-close="outside" data-bs-toggle="dropdown" aria-haspopup="true"
             aria-expanded="false">Available Data & Highlights</a>
            <div class="dropdown-menu main_menu_item_sub" aria-labelledby="navbarDropdownMenuLink">
              <div class="dropend">
                <a class="dropdown-item dropdown-toggle m-0" href="#" id="navbarDropdownMenuLink"
                   data-bs-auto-close="outside" data-bs-toggle="dropdown" aria-haspopup="true"
                   aria-expanded="false">Available Datasets</a>
                <div class="dropdown-menu main_menu_item_sub" aria-labelledby="navbarDropdownMenuLink">
                  
                  <a class="dropdown-item m-0" href="/datasets/all/">All data types</a>
                  
                  <a class="dropdown-item m-0" href="/datasets/biochemistry/">Biochemistry data</a>
                  
                  <a class="dropdown-item m-0" href="/datasets/drug-discovery/">Drug discovery data</a>
                  
                  <a class="dropdown-item m-0" href="/datasets/genomics-transcriptomics/">Genomics &amp; transcriptomics data</a>
                  
                  <a class="dropdown-item m-0" href="/datasets/health/">Health data</a>
                  
                  <a class="dropdown-item m-0" href="/datasets/imaging/">Imaging data</a>
                  
                  <a class="dropdown-item m-0" href="/datasets/other/">Other data</a>
                  
                  <a class="dropdown-item m-0" href="/datasets/protein/">Protein data</a>
                  
                  <a class="dropdown-item m-0" href="/datasets/public-health/">Public health data</a>
                  
                  <a class="dropdown-item m-0" href="/datasets/serology/">Serology data</a>
                  
                  <a class="dropdown-item m-0" href="/datasets/social-science-humanities/">Social science and humanities data</a>
                  
                </div>
              </div>
              <a class="dropdown-item m-0" href="/highlights/">Data Highlights</a>
            </div>
        </div>
      </div>
      <div class="row">
        <div class="col main_menu_item">
          <i class="bi bi-graph-up"></i>
          <a class="dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-bs-auto-close="outside"
             data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Data Dashboards</a>
          <div class="dropdown-menu main_menu_item_sub" aria-labelledby="navbarDropdownMenuLink">
            
            <a class="dropdown-item m-0" href="/dashboards/serology-statistics/">Antibody tests for SARS-CoV-2 at SciLifeLab</a>
            
            <a class="dropdown-item m-0" href="/dashboards/symptom_study_sweden/">COVID Symptom Study Sweden (Partner)</a>
            
            <a class="dropdown-item m-0" href="/dashboards/covid_publications/">COVID-19 publication overview</a>
            
            <a class="dropdown-item m-0" href="/dashboards/crush_covid/">CRUSH Covid Uppsala (Partner)</a>
            
            <a class="dropdown-item m-0" href="/dashboards/npc-statistics/">National Pandemic Centre (Historic)</a>
            
            <a class="dropdown-item m-0" href="/dashboards/post_covid/">Post COVID-19 condition</a>
            
            <a class="dropdown-item m-0" href="/dashboards/recovac/">Register-based vaccination (RECOVAC)</a>
            
            <a class="dropdown-item m-0" href="/dashboards/variants_region_uppsala/">SARS-CoV-2 whole genome sequencing (Region Uppsala)</a>
            
            <a class="dropdown-item m-0" href="/dashboards/vaccines/">Vaccine administration: COVID-19</a>
            
            <a class="dropdown-item m-0" href="/dashboards/wastewater/">Wastewater-based epidemiology</a>
            
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col main_menu_item">
          <i class="bi bi-inboxes-fill"></i>
          <a class="dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-bs-auto-close="outside"
            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Research & Funding</a>
          <div class="dropdown-menu main_menu_item_sub" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item m-0" href="/resources/">Pandemic Preparedness</a>
            
            <a class="dropdown-item m-0" href="/research_projects/">Ongoing research projects</a>
            
            <a class="dropdown-item m-0" href="/register-based-research/">Register-based research</a>
            
            <a class="dropdown-item m-0" href="/funding/">Funding opportunities</a>
            
            <a class="dropdown-item m-0" href="/publications/">Swedish COVID-19 Publications</a>
            
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg mt-3 mt-lg-0">
      <div class="row">
        <div class="col main_menu_item">
          <i class="bi bi-clipboard-data"></i> <a href="/pathogens/">Emerging Pathogens</a>
        </div>
      </div>
      <div class="row">
        <div class="col main_menu_item">
          <i class="bi bi-journal-text"></i> <a href="/data-management/">Research Data Management</a>
        </div>
      </div>
      <div class="row">
        <div class="col main_menu_item">
          <i class="bi bi-collection"></i> <a href="/biobanks/">Sample Collection Database</a>
        </div>
      </div>
    </div>
    <div class="col-lg my-3 my-lg-0">
      <div class="row">
        <div class="col main_menu_item">
          <i class="bi bi-card-list"></i>
          <a class="dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-bs-auto-close="outside"
            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Topics</a>
          <div class="dropdown-menu main_menu_item_sub" aria-labelledby="navbarDropdownMenuLink">
            
            <a class="dropdown-item m-0" href="/topics/antibiotic-resistance/">Antibiotic resistance</a>
            
            <a class="dropdown-item m-0" href="/topics/covid-19/">COVID-19</a>
            
            <a class="dropdown-item m-0" href="/topics/enteric-viruses/">Enteric viruses</a>
            
            <a class="dropdown-item m-0" href="/topics/infectious-diseases/">Infectious diseases</a>
            
            <a class="dropdown-item m-0" href="/topics/influenza/">Influenza</a>
            
            <a class="dropdown-item m-0" href="/topics/mpox/">Mpox</a>
            
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col main_menu_item">
          <i class="bi bi-pencil-square"></i> <a href="/editorials/">Editorials</a>
        </div>
      </div>
      <div class="row">
        <div class="col main_menu_item">
          <i class="bi bi-calendar-event"></i> <a href="/events/">Events & Training</a>
        </div>
      </div>
    </div>
  </div>
</div>






<div class="header"
  style="background-image: linear-gradient(to bottom, rgba(55, 174, 148, 0.52), rgba(55, 174, 148, 0.73)),
         url('/img/csm_coronavirus_mc.jpg');">
  <div class="container">
    <h1>
      Tutorial for SARS-CoV-2 genome data submission to ENA
      </h1>
  </div>
</div>


<nav class="breadcrumbs" aria-label="breadcrumb">
  <div class="container">
    <ol class="breadcrumb">

      

      
      
      <li class="breadcrumb-item"><a href="/">The Swedish Pathogens Portal</a></li>
      

      

      
      <li class="breadcrumb-item"><a href="/support_services/">Support Services</a></li>
      

      <li class="breadcrumb-item active" aria-current="page">Tutorial for SARS-CoV-2 genome data submission to ENA</li>

    </ol>
  </div>
</nav>



        
        
            <div class="container content" id="content">

<ul class="nav nav-tabs nav-justified">
  
  
  <li class="nav-item">
    <a class="nav-link" href="/support_services/tutorial_ena/tutorial_ena_intro/">Introduction</a>
  </li>
  
  <li class="nav-item">
    <a class="nav-link" href="/support_services/tutorial_ena/tutorial_ena_terminology/">Terminology and Metadata</a>
  </li>
  
  <li class="nav-item">
    <a class="nav-link" href="/support_services/tutorial_ena/tutorial_ena_subprep/">Preparation for Submissions</a>
  </li>
  
  <li class="nav-item">
    <a class="nav-link" href="/support_services/tutorial_ena/tutorial_ena_selectsub/">Select Submission Route</a>
  </li>
  
  <li class="nav-item">
    <a class="nav-link" href="/support_services/tutorial_ena/tutorial_ena_subroute1/">Submission Route 1</a>
  </li>
  
  <li class="nav-item">
    <a class="nav-link active font-weight-bold" href="#">Submission Route 2</a>
  </li>
  
  <li class="nav-item">
    <a class="nav-link" href="/support_services/tutorial_ena/tutorial_ena_contact/">Get Help</a>
  </li>
  
  <li class="nav-item">
    <a class="nav-link" href="/support_services/tutorial_ena/tutorial_ena_faqs/">FAQs</a>
  </li>
  
</ul>

<div class="container mt-4">
    <div class="row">
        <div class="col-md-3 order-md-last toc">
          <aside class="sticky-top toc pt-2">
              <h5>In this section:</h5>
              <nav id="TableOfContents">
  <ul>
    <li><a href="#when-to-use-this-route">When to use this route</a></li>
    <li><a href="#necessary-preparation">Necessary preparation</a>
      <ul>
        <li><a href="#data-required-for-route-2">Data required for route 2</a></li>
        <li><a href="#create-checksums-md5">Create checksums (MD5)</a></li>
        <li><a href="#upload-data-files">Upload data files</a></li>
      </ul>
    </li>
    <li><a href="#how-to-do-a-route-2-submission">How to do a route 2 submission</a>
      <ul>
        <li><a href="#register-a-study">Register a study</a></li>
        <li><a href="#prepare-information-for-samples">Prepare information for samples</a></li>
        <li><a href="#submit-samples">Submit samples</a></li>
        <li><a href="#modify-samples">Modify samples</a></li>
        <li><a href="#submit-raw-reads">Submit raw reads</a></li>
        <li><a href="#validate-and-submit-sequence-assemblies">Validate and submit sequence assemblies</a></li>
      </ul>
    </li>
  </ul>
</nav>
          </aside>
        </div>
        <div class="col-md-9 order-md-first content" id="content"><h2 id="when-to-use-this-route">When to use this route</h2>
<p>Route 2 is recommended for those with advanced knowledge of using command line, and for those doing bulk submissions. It is the most suitable route for high-throughput, frequent submissions and automated systems. For this route, the metadata is typically provided to ENA in XML documents. This is true in all cases except for sequence assemblies, where the metadata is instead provided in JSON format. In either case, the metadata are submitted using cURL.</p>
<h2 id="necessary-preparation">Necessary preparation</h2>
<p>Before commencing with the submission, the following things are required:</p>
<ol>
<li>
<p><strong>A text editor and software to read/edit data in .xml format</strong> - The text editor should ideally have the ability to highlight XML formatted files.</p>
</li>
<li>
<p><strong>cURL</strong> - A command line facility with cURL installed.</p>
</li>
</ol>
<p><strong>Note:</strong> This submission route works well in a Mac or Linux environment. For Windows users, we recommend downloading a Ubuntu app or a virtual Linux machine for smooth submissions.</p>
<h3 id="data-required-for-route-2">Data required for route 2</h3>
<p>All of the data required to complete this submission can be downloaded together in a single zip file by clicking <a href="/ENA_tutorial_data/example_data.zip">here</a>. In this part of the tutorial, we will make use of the information in the &lsquo;02-route&rsquo; and &lsquo;data&rsquo; subfolders.</p>
<p><strong>Note:</strong> If you use your own data, you can fill in the metadata template, for instructions on how to do this please see <a href="/support_services/tutorial_ena/tutorial_ena_subprep/#preparing-the-metadata">this section in the preparation for submissions tab</a>.</p>
<h3 id="create-checksums-md5">Create checksums (MD5)</h3>
<p>The sequence files need to be uploaded to the dropbox on ENA&rsquo;s servers (see below). In order to check for successful file transfers, it is necessary to compute <a href="https://en.wikipedia.org/wiki/MD5">MD5s</a> for each file prior to upload. Follow the steps below to do this:</p>
<ol>
<li>
<p>Open a terminal (command prompt) window and change directory into where the raw sequence files are located, e.g. <code>cd example_data/data/raw/</code>.</p>
</li>
<li>
<p>Type a version of the command <code>md5sum SARS-CoV-2-Sample1_1.fastq.gz &gt; SARS-CoV-2-Sample1_1.fastq.gz.md5</code>. This command will calculate the checksum for file SARS-CoV-2-Sample1_1.fastq.gz and put the checksum in a file named SARS-CoV-2-Sample1_1.fastq.gz.md5. Modify this command to match your file names and required output name.</p>
</li>
</ol>
<p>It is possible to calculate MD5 on several files at once using a for-loop:</p>
<blockquote>
<p>for s in SARS-CoV-2-Sample*<br>&gt;  do<br>&gt;  md5sum $s &gt; $s.md5<br>&gt;  done</p>
</blockquote>
<p>This command calculates checksums for all files with names beginning with <code>SARS-CoV-2-Sample</code>.</p>
<h3 id="upload-data-files">Upload data files</h3>
<p>Sequence files and the MD5 checksum files must be uploaded before starting the submission. There are multiple ways in which the upload can be done. Please click on one of the options below to view the instructions in an expandible section.</p>
<div id="accordion">
  <div class="card">
    <div class="card-header" id="headingOne">
      <h5 class="mb-0">
        <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          Using the Webin File Uploader
        </button>
      </h5>
    </div>
    <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
      <div class="card-body">
        <span>The most user-friendly approach is to <a href="https://ena-docs.readthedocs.io/en/latest/submit/fileprep/upload.html#using-webin-file-uploader">use the Webin File Uploader</a>. This is a Java web start application that can be downloaded <a href="http://www.ebi.ac.uk/ena/upload/WebinUploader.jnlp">here</a>. After Java is set up, follow the steps below:
<ol>
<li>Launch the application.</li>
<li>Enter your Webin username in the `Username` field and your Webin password in the `Password` field.</li>
<li>Browse into the local `Upload Directory`, which contains the data files that you want to upload. You can use the `...` button to do this.</li>
<li>Click ‘OK’ to see a list of all files contained in the selected directory displayed in the Webin File Uploader window.</li>
<li>Choose the `Overwrite` option if you want to replace any existing files that were previously uploaded.</li>
<li>Choose the `Upload Tree` option if you wish to preserve the directory structure when uploading files to the Webin upload area. By default, the files will be uploaded into the root directory of your Webin upload area.</li>
<li>Select the files to upload. You can use the `Select All` button to select all of the files for upload.</li>
<li>Click on the `Upload` button.</li>
</ol>
The above steps are adapted from <a href="https://ena-docs.readthedocs.io/en/latest/submit/fileprep/upload.html#using-webin-file-uploader">ENA</a></span>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-header" id="headingTwo">
      <h5 class="mb-0">
        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          Use the command line FTP client
        </button>
      </h5>
    </div>
    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
      <div class="card-body">
        <span>Another option is to use a command line FTP client in Linux or Mac:
<ol>
<li>Open a terminal and type `lftp webin2.ebi.ac.uk -u Webin-xxxxx`. Enter your username at the end in place of xxxxx.</li>
<li>Enter your password when prompted.</li>
<li>Type `ls` to check the content of your drop box.</li>
<li>Use the `mput <filename>` command to upload files.</li>
<li>Use the `bye` command to exit the FTP client.</li>
</ol>
The above steps are adapted from <a href="https://ena-docs.readthedocs.io/en/latest/submit/fileprep/upload.html#uploading-files-using-command-line-ftp-client">ENA</a></span>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-header" id="headingThree">
      <h5 class="mb-0">
        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          Use the Windows File Explorer
        </button>
      </h5>
    </div>
    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
      <div class="card-body">
        <span>It is also possible to use Windows File Explorer:
<ol>
<li>Launch the Windows File Explorer application.</li>
<li>Click on `Add a network location` in the `Computer` tab.</li>
<li>Click `Next`.</li>
<li>Select `Choose a custom network location` and click `Next`.</li>
<li>Type `ftp://webin.ebi.ac.uk` in the `Internet or network address` field and click `Next`.</li>
<li>Unselect `Log on anonymously`, type your Webin user name in the `User name` field and click `Next`.</li>
<li>Type a network location to show in Windows Explorer e.g. `webin.ebi.ac.uk` then click `Next`.</li>
<li>Click `Finish`.</li>
<li>When using the new folder you will be prompted for your Webin password. Type your password and click `Log on`.</li>
</ol>
The above steps are adapted from <a href="https://ena-docs.readthedocs.io/en/latest/submit/fileprep/upload.html#using-windows-file-explorer">ENA</a></span>
      </div>
    </div>
  </div>
</div>

<br>

<p>For other options to upload, more detailed instructions, or troubleshooting, please see <a href="https://ena-docs.readthedocs.io/en/latest/submit/fileprep/upload.html">this section of ENA&rsquo;s tutorial</a>.</p>
<p><strong>Note</strong>: Always keep a local copy of the uploaded files until the files have been successfully submitted and archived. The ENA dropbox is a temporary transit area and is not backed up.</p>
<h2 id="how-to-do-a-route-2-submission">How to do a route 2 submission</h2>
<h3 id="register-a-study">Register a study</h3>
<p>In this section, we will use the materials in the <em>02-route/study/</em> subfolder of the example data that you downloaded earlier. Use the following commands in the command line to navigate to the folder and view its contents:</p>
<blockquote>
<p>cd $WORKSHOP/02-route/study/<br>ls</p>
</blockquote>
<p>In the <em>study</em> subfolder, you will find two example XML files (the file type required for this kind of submission). For this type of submission, we will need 2 XML files:</p>
<ul>
<li>
<p><strong>project.xml</strong> - This XML file contains the metadata for the study, including e.g. title of the study.</p>
</li>
<li>
<p><strong>submission.xml</strong> - This file declares one or more Webin submission service actions. The action can be <code>&lt;ADD/&gt;</code>, which is used to submit new objects. The user can decide the study release date, which is the date that the study will become public, along with all data associated with it. By default, the release date will be set as two months after the date of submission, but the submitter can select any date within 2 years of the present date. This can be done using the <code>&lt;HOLD/&gt;</code> action, and may look e.g. <code>&lt;HOLD HoldUntilDate=&quot;TODO: release date&quot;/&gt;</code>. You can modify release date by replacing <code>&lt;ADD/&gt;</code> with <code>&lt;MODIFY/&gt;</code>. The submission.xml file in the $WORKSHOP folder that you set up, defines the <code>&lt;ADD/&gt;</code> action that will allow you to create a new study.</p>
</li>
</ul>
<p>Edit <em>project.xml</em> to create a project alias that is unique to you. Once complete, you are ready to send the project.xml and submission.xml files (using the <code>&lt;ADD/&gt;</code> action) to the test service using the following cURL command:</p>
<p><code>curl -u username:password -F &quot;SUBMISSION=@submission.xml&quot; -F &quot;PROJECT=@project.xml&quot; &quot;https://wwwdev.ebi.ac.uk/ena/submit/drop-box/submit/&quot;*</code></p>
<p><strong>Note</strong>: Replace <code>username</code> with your Webin username (starting with Webin-), and <code>password</code> with your Webin password.</p>
<p>After you run the above command in your command prompt, you will receive a ‘receipt.xml’ file. This file will contain information about the contents and success of your submission, as well as your study accession.</p>
<p>The attribute &lsquo;success&rsquo; in the receipt file will have a value of either true or false. If the value is false, it indicates that submission was unsuccessful. In this case, please check the rest of the receipt file for error messages. When you have resolved the errors indicated, you can try the submission again. If the value is true, then it indicates that the submission was successful. The receipt will contain the accession number of the study metdata object that you submitted. The accession number generated will be the one you will include in a publication. Please take note of your study accession number at this stage, we will use this later to submit other objects to this study.</p>
<h3 id="prepare-information-for-samples">Prepare information for samples</h3>
<p>In this section, we will use the materials in the <em>02-route/samples/</em> subfolder of the example data that you downloaded earlier. This subfolder contains multiple XML files. Use the following commands in the command line prompt to navigate to the folder and view its contents:</p>
<blockquote>
<p>cd $WORKSHOP/02-route/samples/<br>ls</p>
</blockquote>
<p>You will see the following files:</p>
<ul>
<li>
<p><strong>samples.xml</strong> - This file contains the metadata for the samples.</p>
</li>
<li>
<p><strong>submission.xml</strong> - This file is the same as that used to submit your study. It defines the <code>&lt;ADD/&gt;</code> action that will allow us to create new samples.</p>
</li>
<li>
<p><strong>submission_modify.xml</strong> - This file defines the <code>&lt;MODIFY/&gt;</code> action, which allows us to update existing samples.</p>
</li>
</ul>
<p>In the <em>samples.xml</em> file, we can define many samples inside a <code>&lt;SAMPLE_SET&gt;</code> tag. Each sample (enclosed in <code>&lt;SAMPLE&gt;</code> tags), must contain:</p>
<ul>
<li><code>&lt;TITLE&gt;</code> tags: defining the title of the sample</li>
<li><code>&lt;SAMPLE_NAME&gt;</code> tags: defining the taxonomic information</li>
<li><code>&lt;DESCRIPTION&gt;</code> tags: providing a description of what has been sampled</li>
<li>Multiple <code>&lt;SAMPLE_ATTRIBUTE&gt;</code> tags: defining all other metadata fields</li>
</ul>
<p>To see an example of a <code>&lt;SAMPLE_SET&gt;</code> please <a href="https://ena-docs.readthedocs.io/en/latest/submit/samples/programmatic.html">see this example from ENA</a>.</p>
<p>Sample aliases are defined within the <code>&lt;SAMPLE&gt;</code> tag, e.g. <code>&lt;SAMPLE alias='this_alias'&gt;</code>. In the example data, the alias has been suffixed with the word ‘programmatic’. Aliases must be unique.</p>
<h3 id="submit-samples">Submit samples</h3>
<p>As with study registration (above), we need to use cURL to send the samples.xml and submission.xml files (using the <code>&lt;ADD/&gt;</code> action) to the test service:</p>
<p><code>curl -u username:password -F &quot;SUBMISSION=@submission.xml&quot; -F &quot;SAMPLE=@samples.xml&quot; &quot;https://wwwdev.ebi.ac.uk/ena/submit/drop-box/submit/&quot;</code></p>
<p>You should again receive a &lsquo;receipt XML&rsquo; with information regarding submission success and accession numbers. Note that, in this instance, you will also receive a <code>&lt;SAMPLE&gt;</code> tag for each submitted sample (when using the sample data for this tutorial, you should see 3). Please take note of each sample alias and accession, as you will need these later when submitting sequence files.</p>
<h3 id="modify-samples">Modify samples</h3>
<p>Sometimes, previously uploaded metadata needs to be updated. You can do this by editing the <em>sample.xml</em> file to include the correct values, and resubmitting it with a submission.xml file containing the <code>&lt;MODIFY/&gt;</code> action in place of <code>&lt;ADD/&gt;</code>:</p>
<ul>
<li>
<p>First, open the <em>samples.xml</em> file and update the metadata fields as required, e.g. with a new, later collection date, and then save the file.</p>
</li>
<li>
<p>This time, we will use the <code>submission_modify.xml</code> in the submission. This file instructs the service to update an existing sample. The update uses the alias to detect existing samples, so it is important not to change the alias.</p>
</li>
</ul>
<p><code>curl -u username:password -F &quot;SUBMISSION=@submission_modify.xml&quot; -F &quot;SAMPLE=@samples.xml&quot; &quot;https://wwwdev.ebi.ac.uk/ena/submit/drop-box/submit/&quot;</code></p>
<p>Check the receipt file to see whether your update was successful. Note that the receipt file will also report which samples have not been updated.</p>
<h3 id="submit-raw-reads">Submit raw reads</h3>
<p>As in all previous steps, this type of submission is performed using XML files. In the case of raw reads, we must submit two types of object: experiments and runs. Experiments hold information about library preparation and sequencing protocols, and also provide a link to the appropriate study and samples. Runs simply link experiments and data files.</p>
<p>Submissions are defined using different metadata objects. To know more about metadata objects, please <a href="/support_services/tutorial_ena/tutorial_ena_terminology/">read this section</a> of this tutorial.</p>
<p>Please go to the example data that you downloaded earlier, and locate example XMLs for both experiments and runs in the <code>02-route/runs</code> directory. Make the following edits:</p>
<ul>
<li>
<p>In <strong>experiments.xml</strong>, replace all occurrences of PRJEB#### with your study accession number, and all occurrences of SAME###### with the equivalent sample accessions.</p>
</li>
<li>
<p>In <strong>runs.xml</strong>, replace the checksum field in each <code>&lt;FILE&gt;</code> tag with those that you computed earlier. These will be used to check for file corruption during upload.</p>
</li>
</ul>
<p>Note that runs reference experiments by their aliases. For example:</p>
<ul>
<li>In <strong>experiments.xml</strong> : <code>&lt;EXPERIMENT alias=&quot;SARS-CoV-2 experiment 1&quot;&gt;</code></li>
<li>In <strong>runs.xml</strong> : <code>&lt;EXPERIMENT_REF refname=&quot;SARS-CoV-2 experiment 1&quot; /&gt;</code></li>
</ul>
<p><strong>Note</strong>: In all objects that use referencing/linking (with <code>&lt;*_REF&gt;</code> tags), we can link by either using the alias (with refname=&quot;&quot;) or the accession (with accession=&quot;&quot;). <!-- checked this with Yvonne - example uses alias and refname - should it be accession, as in this part of the text???--></p>
<p>We will send these XML files to the test service using cURL with the following command:</p>
<p><code>curl -u username:password -F &quot;SUBMISSION=@submission.xml&quot; -F &quot;EXPERIMENT=@experiments.xml&quot; -F &quot;RUN=@runs.xml&quot; &quot;https://wwwdev.ebi.ac.uk/ena/submit/drop-box/submit/&quot;</code></p>
<p>For additional information, please see <a href="https://ena-docs.readthedocs.io/en/latest/submit/reads/programmatic.html">this section of the documentation from ENA</a>.</p>
<h3 id="validate-and-submit-sequence-assemblies">Validate and submit sequence assemblies</h3>
<p>A new JSON-based REST service was introduced by ENA during 2021 specifically for the submission of SARS-CoV-2 sequences. Sequences for submissions made using this service are not held in FASTA files. Rather, they are included directly in the JSON itself, thus greatly simplifying the process of submission. This is only made possible due to the small size and relatively low complexity of the genome. For more information on this system, including useful code snippets, please see <a href="https://ena-covid19-docs.readthedocs.io/en/latest/help_and_guides/webin-cli-rest.html">ENA documentation on this topic</a>.</p>
<p>In this section, we will use the materials in the 02-route/sequences/ subfolder of the example data that you downloaded earlier. Use the following commands in the command line prompt to navigate to the folder and view its contents:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd $WORKSHOP/02-route/sequences/
ls
cat hCoV-19_isolate_1.json
</code></pre></div><p>Note that this JSON object contains exactly the same information as that in its equivalent manifest file. The only difference is that the sequence is embedded directly into the JSON payload. We will send the entire JSON object (via the <code>POST</code> protocol) to the Webin-CLI-REST (test) service of ENA using cURL.</p>
<p>This service also provides both validation and submission services, as with the Webin-CLI tool, but here we <code>POST</code> to different URLs for each service:</p>
<ul>
<li>
<p>Validation: <a href="https://wwwdev.ebi.ac.uk/ena/submit/webin-cli/api/v1/genome/covid-19/validate">https://wwwdev.ebi.ac.uk/ena/submit/webin-cli/api/v1/genome/covid-19/validate</a>.</p>
</li>
<li>
<p>Submission: <a href="https://wwwdev.ebi.ac.uk/ena/submit/webin-cli/api/v1/genome/covid-19/validate">https://wwwdev.ebi.ac.uk/ena/submit/webin-cli/api/v1/genome/covid-19</a>.</p>
</li>
</ul>
<p>Let&rsquo;s validate the contents of <code>hCoV-19_isolate_1.json</code>. Remember to replace <code>-u user:pass</code> with your webin credentials, and to substitute in your own accessions into the JSON object:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -X <span style="color:#e6db74">&#39;POST&#39;</span> -u user:pass
<span style="color:#e6db74">&#39;https://wwwdev.ebi.ac.uk/ena/submit/webin-cli/api/v1/genome/covid-19/validate&#39;</span>
-H <span style="color:#e6db74">&#39;accept: application/json&#39;</span>
-H <span style="color:#e6db74">&#39;Content-Type: application/json&#39;</span>
-d <span style="color:#e6db74">&#39;{
</span><span style="color:#e6db74">  &#34;study&#34;: &#34;PRJEB#####&#34;,
</span><span style="color:#e6db74">  &#34;sample&#34;: &#34;ERS#######&#34;,
</span><span style="color:#e6db74">  &#34;runRef&#34;: &#34;ERR#######&#34;,
</span><span style="color:#e6db74">  &#34;name&#34;: &#34;hCov-19_isolate_1&#34;,
</span><span style="color:#e6db74">  &#34;coverage&#34;: 100,
</span><span style="color:#e6db74">  &#34;program&#34;: &#34;ARTIC fieldbioinformatics (minimap2/nanopolish) 1.1.3 (nanopolish 0.13.2)&#34;,
</span><span style="color:#e6db74">  &#34;platform&#34;: &#34;ILLUMINA&#34;,
</span><span style="color:#e6db74">  &#34;minGapLength&#34;: 3,
</span><span style="color:#e6db74">  &#34;moleculeType&#34;: &#34;genomic RNA&#34;,
</span><span style="color:#e6db74">  &#34;description&#34;: &#34;example sequence #1 for workshop&#34;,
</span><span style="color:#e6db74">  &#34;sequence&#34;: &#34;NNNNNNNNNTTATACCTTCCCAGGTAACAAACCAACCAACTTTCGATCTCTTGTA.......&#34;
</span><span style="color:#e6db74">  }&#39;</span>
</code></pre></div><p>To submit the sequence, simply remove <code>/validate</code> from the URL in the above command and run it again.</p>
<h4 id="what-happens-after-submission">What happens after submission</h4>
<p>Once the submitted sequences have been processed, they will be distributed as <strong>EMBL flat files</strong>, see <a href="https://ena-docs.readthedocs.io/en/latest/submit/fileprep/flat-file-example.html">this example from ENA</a> to understand the format. These files largely comprise of:</p>
<ol>
<li>Metadata, such as author names and addresses (contained in lines beginning with <code>R</code>, e.g. <code>RA</code>, <code>RL</code>, <code>RG</code>)</li>
<li>Sample information, located inside a <code>source</code> block</li>
<li>The sequence itself</li>
</ol>
<p>Upon generation of the EMBL file, sequences also acquire a sequence accession number. This accession number will comprise of 2 upper case letters followed by 6 numbers, e.g. <a href="https://www.ebi.ac.uk/ena/browser/api/embl/LR991698.2?lineLimit=1000">LR991698</a>.</p>
<p>For each assembly submission, Webin will report a unique accession number (starting with ERZ). For most assemblies, this number is only used for internal processing and will not be visible in the browser. However, for SARS-CoV-2 assemblies, the ERZ records will also be available in the browser to provide a point of access for the submitted file(s).</p>
</div>
    </div>
</div>


            </div>
        <footer class="container border-top mt-5 mb-5">
  <div class="row border-bottom">
    
    
    <div class="col-md px-5 px-md-2">
      <h2 class="small text-uppercase text-black-50">About</h2>
      <ul class="list-unstyled mb-1">
        
        <li><a href="/about/">About the portal</a></li>
        
        <li><a href="/updates/">Portal news</a></li>
        
        <li><a href="/partners/">Other National Portals</a></li>
        
        <li><a href="/contact/">Support &amp; Feedback</a></li>
        
        <li><a href="/privacy/">Privacy notice</a></li>
        
        <li><a href="https://github.com/ScilifelabDataCentre/covid-portal/tree/develop">Website code (Github)</a></li>
      </ul>
    </div>
    
    
    
    <div class="col-md px-5 px-md-2">
      <h2 class="small text-uppercase text-black-50">Other sections</h2>
      <ul class="list-unstyled">
        <li><a href="/resources/">Resources</a></li>
        <li><a href="/pathogens/">Emerging Pathogens</a></li>
        
        <li><a href="/research_projects/">Ongoing research projects</a></li>
        
        <li><a href="/register-based-research/">Register-based research</a></li>
        
        <li><a href="/funding/">Funding opportunities</a></li>
        
        <li><a href="/publications/">Swedish COVID-19 Publications</a></li>
        
      </ul>
    </div>
    
    
    
    <div class="col-md px-5 px-md-2">
      <h2 class="small text-uppercase text-black-50">
        Data</h2>
      <ul class="list-unstyled mb-0">
        
        
        <li><a href="/dashboards/">Dashboards</a></li>
        <li><a href="/biobanks/">Sample collection database</a></li>
        
        
      </ul>
      <h2 class="small text-uppercase text-black-50">Connect</h2>
      <div>
        <a style="font-size:1.75em;" target="_blank"
          href="https://linkedin.com/company/scilifelab-data-centre"><i class="bi bi-linkedin"></i></a>
        <a class="ps-2" style="font-size:1.75em;" target="_blank" href="https://twitter.com/scilifelab_DC"><i
            class="bi bi-twitter-x"></i></a>
        <a class="ps-2" style="font-size:1.90em;" target="_blank" href="mailto:datacentre@scilifelab.se"><i
            class="bi bi-envelope-fill"></i></a>
      </div>
    </div>
    
    
    <div class="col-md px-5 px-md-2">
      <div>
        <a class="d-block">
          <img style="max-height: 200px" src="/img/logos/complete_footer.png" alt="SciLifeLab, Knut and Alice Wallenberg Foundation and SSF Logos">
        </a>
      </div>
    </div>

  </div>
</footer>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>


<script>
  var _paq = window._paq = window._paq || [];
   
  _paq.push(["disableCookies"]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function () {
    var u = "//matomo.dc.scilifelab.se/";
    _paq.push(['setTrackerUrl', u + 'matomo.php']);
    _paq.push(['setSiteId', '2']);
    var d = document, g = d.createElement('script'), s = d.getElementsByTagName('script')[0];
    g.async = true; g.src = u + 'matomo.js'; s.parentNode.insertBefore(g, s);
  })();
</script>

</body>
</html>
